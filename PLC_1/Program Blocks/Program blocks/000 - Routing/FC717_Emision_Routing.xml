<?xml version="1.0" encoding="utf-8"?>
<Document>
  <Engineering version="V20" />
  <DocumentInfo>
    <Created>2025-12-01T14:57:44.8491488Z</Created>
    <ExportSetting>None</ExportSetting>
    <InstalledProducts>
      <Product>
        <DisplayName>Totally Integrated Automation Portal</DisplayName>
        <DisplayVersion>V20 Update 3</DisplayVersion>
      </Product>
      <OptionPackage>
        <DisplayName>TIA Portal Openness</DisplayName>
        <DisplayVersion>V20 Update 3</DisplayVersion>
      </OptionPackage>
      <OptionPackage>
        <DisplayName>TIA Portal Version Control Interface</DisplayName>
        <DisplayVersion>V20 Update 3</DisplayVersion>
      </OptionPackage>
      <Product>
        <DisplayName>STEP 7 Professional</DisplayName>
        <DisplayVersion>V20 Update 3</DisplayVersion>
      </Product>
      <OptionPackage>
        <DisplayName>STEP 7 Safety</DisplayName>
        <DisplayVersion>V20 Update 2</DisplayVersion>
      </OptionPackage>
      <Product>
        <DisplayName>WinCC Basic/Comfort/Advanced</DisplayName>
        <DisplayVersion>V20 Update 3</DisplayVersion>
      </Product>
      <Product>
        <DisplayName>WinCC Professional</DisplayName>
        <DisplayVersion>V20 Update 3</DisplayVersion>
      </Product>
      <Product>
        <DisplayName>WinCC Unified</DisplayName>
        <DisplayVersion>V20 Update 3</DisplayVersion>
      </Product>
    </InstalledProducts>
  </DocumentInfo>
  <SW.Blocks.FC ID="0">
    <AttributeList>
      <AutoNumber>false</AutoNumber>
      <Interface><Sections xmlns="http://www.siemens.com/automation/Openness/SW/Interface/v5">
  <Section Name="Input">
    <Member Name="NumJDT" Datatype="UInt" />
  </Section>
  <Section Name="Output" />
  <Section Name="InOut" />
  <Section Name="Temp">
    <Member Name="i" Datatype="UInt" />
    <Member Name="posicion" Datatype="Int" />
    <Member Name="cero" Datatype="Byte" />
    <Member Name="retval" Datatype="Int" />
    <Member Name="Numero_evento" Datatype="Int" />
    <Member Name="contador" Datatype="Int" />
    <Member Name="mode" Datatype="DWord" />
    <Member Name="separador" Datatype="Char" />
    <Member Name="longitud" Datatype="Int" />
    <Member Name="ver_numero_evento" Datatype="Int" />
    <Member Name="Destino_copia" Datatype="Int" />
    <Member Name="origen_copia" Datatype="Int" />
  </Section>
  <Section Name="Constant" />
  <Section Name="Return">
    <Member Name="Ret_Val" Datatype="Void" />
  </Section>
</Sections></Interface>
      <MemoryLayout>Standard</MemoryLayout>
      <Name>FC717_Emision_Routing</Name>
      <Namespace />
      <Number>717</Number>
      <ProgrammingLanguage>SCL</ProgrammingLanguage>
      <SetENOAutomatically>false</SetENOAutomatically>
    </AttributeList>
    <ObjectList>
      <MultilingualText ID="1" CompositionName="Comment">
        <ObjectList>
          <MultilingualTextItem ID="2" CompositionName="Items">
            <AttributeList>
              <Culture>de-DE</Culture>
              <Text />
            </AttributeList>
          </MultilingualTextItem>
          <MultilingualTextItem ID="3" CompositionName="Items">
            <AttributeList>
              <Culture>en-US</Culture>
              <Text />
            </AttributeList>
          </MultilingualTextItem>
          <MultilingualTextItem ID="4" CompositionName="Items">
            <AttributeList>
              <Culture>es-ES</Culture>
              <Text />
            </AttributeList>
          </MultilingualTextItem>
          <MultilingualTextItem ID="5" CompositionName="Items">
            <AttributeList>
              <Culture>fr-FR</Culture>
              <Text />
            </AttributeList>
          </MultilingualTextItem>
          <MultilingualTextItem ID="6" CompositionName="Items">
            <AttributeList>
              <Culture>it-IT</Culture>
              <Text />
            </AttributeList>
          </MultilingualTextItem>
          <MultilingualTextItem ID="7" CompositionName="Items">
            <AttributeList>
              <Culture>ja-JP</Culture>
              <Text />
            </AttributeList>
          </MultilingualTextItem>
          <MultilingualTextItem ID="8" CompositionName="Items">
            <AttributeList>
              <Culture>zh-CN</Culture>
              <Text />
            </AttributeList>
          </MultilingualTextItem>
        </ObjectList>
      </MultilingualText>
      <SW.Blocks.CompileUnit ID="9" CompositionName="CompileUnits">
        <AttributeList>
          <NetworkSource><StructuredText xmlns="http://www.siemens.com/automation/Openness/SW/NetworkSource/StructuredText/v4">
  <Token Text="REGION" UId="21" />
  <Blank UId="22" />
  <Text UId="23">inicializacion</Text>
  <NewLine UId="24" />
  <Blank Num="4" UId="25" />
  <LineComment UId="26">
    <Text UId="27"> definición del modo de union de cadenas</Text>
  </LineComment>
  <NewLine UId="28" />
  <Blank Num="4" UId="29" />
  <LineComment UId="30">
    <Text UId="31"> </Text>
  </LineComment>
  <NewLine UId="32" />
  <Blank Num="4" UId="33" />
  <Access Scope="LocalVariable" UId="34">
    <Symbol UId="35">
      <Component Name="mode" UId="36" />
    </Symbol>
  </Access>
  <Blank UId="37" />
  <Token Text=":=" UId="38" />
  <Blank UId="39" />
  <Access Scope="LiteralConstant" UId="40">
    <Constant UId="41">
      <ConstantValue UId="43">0</ConstantValue>
    </Constant>
  </Access>
  <Token Text=";" UId="44" />
  <NewLine UId="45" />
  <Blank Num="4" UId="46" />
  <Access Scope="LocalVariable" UId="47">
    <Symbol UId="48">
      <Component Name="mode" UId="49" />
      <Token Text="." UId="50" />
      <Token Text="%X0" UId="51" />
    </Symbol>
  </Access>
  <Blank UId="52" />
  <Token Text=":=" UId="53" />
  <Blank UId="54" />
  <Access Scope="LiteralConstant" UId="55">
    <Constant UId="56">
      <ConstantValue UId="58">0</ConstantValue>
    </Constant>
  </Access>
  <Token Text=";" UId="59" />
  <NewLine UId="60" />
  <Blank Num="4" UId="61" />
  <Access Scope="LocalVariable" UId="62">
    <Symbol UId="63">
      <Component Name="mode" UId="64" />
      <Token Text="." UId="65" />
      <Token Text="%X3" UId="66" />
    </Symbol>
  </Access>
  <Blank UId="67" />
  <Token Text=":=" UId="68" />
  <Blank UId="69" />
  <Access Scope="LiteralConstant" UId="70">
    <Constant UId="71">
      <ConstantValue UId="73">0</ConstantValue>
    </Constant>
  </Access>
  <Token Text=";" UId="74" />
  <NewLine UId="75" />
  <Blank Num="4" UId="76" />
  <Access Scope="LocalVariable" UId="77">
    <Symbol UId="78">
      <Component Name="separador" UId="79" />
    </Symbol>
  </Access>
  <Blank UId="80" />
  <Token Text=":=" UId="81" />
  <Blank UId="82" />
  <Access Scope="LiteralConstant" UId="83">
    <Constant UId="84">
      <ConstantValue UId="86">','</ConstantValue>
    </Constant>
  </Access>
  <Token Text=";" UId="87" />
  <NewLine UId="88" />
  <Blank Num="4" UId="89" />
  <Access Scope="LocalVariable" UId="90">
    <Symbol UId="91">
      <Component Name="cero" UId="92" />
    </Symbol>
  </Access>
  <Blank UId="93" />
  <Token Text=":=" UId="94" />
  <Blank UId="95" />
  <Access Scope="LiteralConstant" UId="96">
    <Constant UId="97">
      <ConstantValue UId="99">0</ConstantValue>
    </Constant>
  </Access>
  <Token Text=";" UId="100" />
  <NewLine UId="101" />
  <Blank Num="4" UId="102" />
  <Access Scope="LocalVariable" UId="103">
    <Symbol UId="104">
      <Component Name="Destino_copia" UId="105" />
    </Symbol>
  </Access>
  <Blank UId="106" />
  <Token Text=":=" UId="107" />
  <Blank UId="108" />
  <Access Scope="LiteralConstant" UId="109">
    <Constant UId="110">
      <ConstantValue UId="112">0</ConstantValue>
    </Constant>
  </Access>
  <Token Text=";" UId="113" />
  <NewLine UId="114" />
  <Blank Num="3" UId="115" />
  <NewLine UId="116" />
  <Token Text="END_REGION" UId="117" />
  <NewLine Num="2" UId="118" />
  <LineComment UId="119">
    <Text UId="120"> evaluar hacia que JDT tenemos que emitir</Text>
  </LineComment>
  <NewLine UId="121" />
  <Token Text="IF" UId="122" />
  <Blank UId="123" />
  <Access Scope="LocalVariable" UId="124">
    <Symbol UId="125">
      <Component Name="NumJDT" UId="126" />
    </Symbol>
  </Access>
  <Blank UId="127" />
  <Token Text="=" UId="128" />
  <Blank UId="129" />
  <Access Scope="LiteralConstant" UId="130">
    <Constant UId="131">
      <ConstantValue UId="133">1</ConstantValue>
    </Constant>
  </Access>
  <Blank UId="134" />
  <Token Text="THEN" UId="135" />
  <NewLine UId="136" />
  <Blank Num="4" UId="137" />
  <Token Text="GOTO" UId="138" />
  <Blank UId="139" />
  <Access Scope="Label" UId="140">
    <Label Name="JDT_1" UId="141" />
  </Access>
  <Token Text=";" UId="142" />
  <NewLine UId="143" />
  <Token Text="ELSE" UId="144" />
  <NewLine UId="145" />
  <Blank Num="4" UId="146" />
  <Token Text="GOTO" UId="147" />
  <Blank UId="148" />
  <Access Scope="Label" UId="149">
    <Label Name="JDT_2" UId="150" />
  </Access>
  <Token Text=";" UId="151" />
  <NewLine UId="152" />
  <Token Text="END_IF" UId="153" />
  <Token Text=";" UId="154" />
  <NewLine Num="3" UId="155" />
  <Token Text="REGION" UId="156" />
  <Blank UId="157" />
  <Text UId="158">emision JDT1</Text>
  <NewLine UId="159" />
  <Access Scope="Label" UId="160">
    <Label Name="JDT_1" UId="161">
      <Token Text=":" UId="162" />
    </Label>
  </Access>
  <Blank Num="3" UId="163" />
  <LineComment UId="164">
    <Text UId="165"> miramos si tenemos algún mensaje que emitir</Text>
  </LineComment>
  <NewLine UId="166" />
  <Blank Num="4" UId="167" />
  <Token Text="FOR" UId="168" />
  <Blank UId="169" />
  <Access Scope="LocalVariable" UId="170">
    <Symbol UId="171">
      <Component Name="Numero_evento" UId="172" />
    </Symbol>
  </Access>
  <Blank UId="173" />
  <Token Text=":=" UId="174" />
  <Blank UId="175" />
  <Access Scope="LiteralConstant" UId="176">
    <Constant UId="177">
      <ConstantValue UId="179">0</ConstantValue>
    </Constant>
  </Access>
  <Blank UId="180" />
  <Token Text="TO" UId="181" />
  <Blank UId="182" />
  <Access Scope="LiteralConstant" UId="183">
    <Constant UId="184">
      <ConstantValue UId="186">100</ConstantValue>
    </Constant>
  </Access>
  <Blank UId="187" />
  <Token Text="BY" UId="188" />
  <Blank UId="189" />
  <Access Scope="LiteralConstant" UId="190">
    <Constant UId="191">
      <ConstantValue UId="193">1</ConstantValue>
    </Constant>
  </Access>
  <Blank UId="194" />
  <Token Text="DO" UId="195" />
  <NewLine UId="196" />
  <Blank Num="8" UId="197" />
  <Token Text="IF" UId="198" />
  <Blank UId="199" />
  <Access Scope="Call" UId="200">
    <Instruction Name="LEN" UId="201">
      <Token Text="(" UId="202" />
      <NamelessParameter UId="203">
        <Access Scope="GlobalVariable" UId="204">
          <Symbol UId="205">
            <Component Name="DB198_eventos_generados_routing_JDT1" UId="206">
              <BooleanAttribute Name="HasQuotes" UId="207">true</BooleanAttribute>
            </Component>
            <Token Text="." UId="208" />
            <Component Name="evento" UId="209">
              <Token Text="[" UId="210" />
              <Access Scope="LocalVariable" UId="211">
                <Symbol UId="212">
                  <Component Name="Numero_evento" UId="213" />
                </Symbol>
              </Access>
              <Token Text="]" UId="214" />
            </Component>
          </Symbol>
        </Access>
      </NamelessParameter>
      <Token Text=")" UId="216" />
    </Instruction>
  </Access>
  <Blank UId="217" />
  <Token Text="&gt;" UId="218" />
  <Blank UId="219" />
  <Access Scope="LiteralConstant" UId="220">
    <Constant UId="221">
      <ConstantValue UId="223">0</ConstantValue>
    </Constant>
  </Access>
  <Blank UId="224" />
  <Token Text="THEN" UId="225" />
  <NewLine UId="226" />
  <Blank Num="12" UId="227" />
  <LineComment UId="228">
    <Text UId="229"> tenemos un mensaje que emitir. miramos si hay espacio en la emisión</Text>
  </LineComment>
  <NewLine UId="230" />
  <Blank Num="12" UId="231" />
  <Token Text="FOR" UId="232" />
  <Blank UId="233" />
  <Access Scope="LocalVariable" UId="234">
    <Symbol UId="235">
      <Component Name="i" UId="236" />
    </Symbol>
  </Access>
  <Blank UId="237" />
  <Token Text=":=" UId="238" />
  <Blank UId="239" />
  <Access Scope="LiteralConstant" UId="240">
    <Constant UId="241">
      <ConstantValue UId="243">0</ConstantValue>
    </Constant>
  </Access>
  <Blank UId="244" />
  <Token Text="TO" UId="245" />
  <Blank UId="246" />
  <Access Scope="GlobalConstant" UId="247">
    <Constant Name="JDT1_MaxBytes" UId="248" />
  </Access>
  <Blank UId="251" />
  <Token Text="BY" UId="252" />
  <Blank UId="253" />
  <Access Scope="LiteralConstant" UId="254">
    <Constant UId="255">
      <ConstantValue UId="257">1</ConstantValue>
    </Constant>
  </Access>
  <Blank UId="258" />
  <Token Text="DO" UId="259" />
  <Blank UId="260" />
  <LineComment UId="261">
    <Text UId="262" />
  </LineComment>
  <NewLine UId="263" />
  <Blank Num="16" UId="264" />
  <Token Text="IF" UId="265" />
  <Blank UId="266" />
  <Token Text="(" UId="267" />
  <Token Text="(" UId="268" />
  <Access Scope="GlobalVariable" UId="269">
    <Symbol UId="270">
      <Component Name="DB808_JDT01EventosGenerados" UId="271">
        <BooleanAttribute Name="HasQuotes" UId="272">true</BooleanAttribute>
      </Component>
      <Token Text="." UId="273" />
      <Component Name="Mensaje" UId="274">
        <Token Text="[" UId="275" />
        <Access Scope="LocalVariable" UId="276">
          <Symbol UId="277">
            <Component Name="i" UId="278" />
          </Symbol>
        </Access>
        <Token Text="]" UId="279" />
      </Component>
    </Symbol>
  </Access>
  <Blank UId="280" />
  <Token Text="=" UId="281" />
  <Blank UId="282" />
  <Access Scope="LocalVariable" UId="283">
    <Symbol UId="284">
      <Component Name="cero" UId="285" />
    </Symbol>
  </Access>
  <Token Text=")" UId="286" />
  <Blank UId="287" />
  <Token Text="OR" UId="288" />
  <Blank UId="289" />
  <Token Text="(" UId="290" />
  <Access Scope="GlobalVariable" UId="291">
    <Symbol UId="292">
      <Component Name="DB808_JDT01EventosGenerados" UId="293">
        <BooleanAttribute Name="HasQuotes" UId="294">true</BooleanAttribute>
      </Component>
      <Token Text="." UId="295" />
      <Component Name="Mensaje" UId="296">
        <Token Text="[" UId="297" />
        <Access Scope="LocalVariable" UId="298">
          <Symbol UId="299">
            <Component Name="i" UId="300" />
          </Symbol>
        </Access>
        <Token Text="]" UId="301" />
      </Component>
    </Symbol>
  </Access>
  <Blank UId="302" />
  <Token Text="=" UId="303" />
  <Blank UId="304" />
  <Access Scope="LiteralConstant" UId="305">
    <Constant UId="306">
      <ConstantValue UId="308">' '</ConstantValue>
    </Constant>
  </Access>
  <Token Text=")" UId="309" />
  <Token Text=")" UId="310" />
  <Blank UId="311" />
  <Token Text="THEN" UId="312" />
  <NewLine UId="313" />
  <Blank Num="20" UId="314" />
  <Access Scope="LocalVariable" UId="315">
    <Symbol UId="316">
      <Component Name="posicion" UId="317" />
    </Symbol>
  </Access>
  <Blank UId="318" />
  <Token Text=":=" UId="319" />
  <Blank UId="320" />
  <Access Scope="LocalVariable" UId="321">
    <Symbol UId="322">
      <Component Name="i" UId="323" />
    </Symbol>
  </Access>
  <Token Text=";" UId="324" />
  <NewLine UId="325" />
  <Blank Num="20" UId="326" />
  <Access Scope="LocalVariable" UId="327">
    <Symbol UId="328">
      <Component Name="ver_numero_evento" UId="329" />
    </Symbol>
  </Access>
  <Blank UId="330" />
  <Token Text=":=" UId="331" />
  <Blank UId="332" />
  <Access Scope="LocalVariable" UId="333">
    <Symbol UId="334">
      <Component Name="Numero_evento" UId="335" />
    </Symbol>
  </Access>
  <Token Text=";" UId="336" />
  <NewLine UId="337" />
  <Blank Num="20" UId="338" />
  <Token Text="GOTO" UId="339" />
  <Blank UId="340" />
  <Access Scope="Label" UId="341">
    <Label Name="Formateo_JDT1" UId="342" />
  </Access>
  <Token Text=";" UId="343" />
  <NewLine UId="344" />
  <Blank Num="16" UId="345" />
  <Token Text="END_IF" UId="346" />
  <Token Text=";" UId="347" />
  <NewLine UId="348" />
  <Blank Num="12" UId="349" />
  <Token Text="END_FOR" UId="350" />
  <Token Text=";" UId="351" />
  <NewLine UId="352" />
  <Blank Num="12" UId="353" />
  <LineComment UId="354">
    <Text UId="355">si no hemos ido a la emisión es que no hay espacio</Text>
  </LineComment>
  <NewLine UId="356" />
  <Blank Num="12" UId="357" />
  <LineComment UId="358">
    <Text UId="359"> aqui tenemos que reordenar los mensajes no emitidos</Text>
  </LineComment>
  <NewLine UId="360" />
  <Blank Num="12" UId="361" />
  <Token Text="REGION" UId="362" />
  <Blank UId="363" />
  <Text UId="364">reordena mensajes pendientes</Text>
  <NewLine UId="365" />
  <Blank Num="16" UId="366" />
  <LineComment UId="367">
    <Text UId="368"> buscamos la primera posición donde tenemos mensaje</Text>
  </LineComment>
  <NewLine UId="369" />
  <Blank Num="16" UId="370" />
  <Token Text="FOR" UId="371" />
  <Blank UId="372" />
  <Access Scope="LocalVariable" UId="373">
    <Symbol UId="374">
      <Component Name="origen_copia" UId="375" />
    </Symbol>
  </Access>
  <Token Text=":=" UId="376" />
  <Access Scope="LiteralConstant" UId="377">
    <Constant UId="378">
      <ConstantValue UId="380">0</ConstantValue>
    </Constant>
  </Access>
  <Blank UId="381" />
  <Token Text="TO" UId="382" />
  <Blank UId="383" />
  <Access Scope="LiteralConstant" UId="384">
    <Constant UId="385">
      <ConstantValue UId="387">100</ConstantValue>
    </Constant>
  </Access>
  <Blank UId="388" />
  <Token Text="BY" UId="389" />
  <Blank UId="390" />
  <Access Scope="LiteralConstant" UId="391">
    <Constant UId="392">
      <ConstantValue UId="394">1</ConstantValue>
    </Constant>
  </Access>
  <Blank UId="395" />
  <Token Text="DO" UId="396" />
  <NewLine UId="397" />
  <Blank Num="20" UId="398" />
  <Token Text="IF" UId="399" />
  <Blank UId="400" />
  <Access Scope="Call" UId="401">
    <Instruction Name="LEN" UId="402">
      <Token Text="(" UId="403" />
      <NamelessParameter UId="404">
        <Access Scope="GlobalVariable" UId="405">
          <Symbol UId="406">
            <Component Name="DB198_eventos_generados_routing_JDT1" UId="407">
              <BooleanAttribute Name="HasQuotes" UId="408">true</BooleanAttribute>
            </Component>
            <Token Text="." UId="409" />
            <Component Name="evento" UId="410">
              <Token Text="[" UId="411" />
              <Access Scope="LocalVariable" UId="412">
                <Symbol UId="413">
                  <Component Name="origen_copia" UId="414" />
                </Symbol>
              </Access>
              <Token Text="]" UId="415" />
            </Component>
          </Symbol>
        </Access>
      </NamelessParameter>
      <Token Text=")" UId="417" />
    </Instruction>
  </Access>
  <Blank UId="418" />
  <Token Text="&gt;" UId="419" />
  <Blank UId="420" />
  <Access Scope="LiteralConstant" UId="421">
    <Constant UId="422">
      <ConstantValue UId="424">0</ConstantValue>
    </Constant>
  </Access>
  <Blank UId="425" />
  <Token Text="THEN" UId="426" />
  <NewLine UId="427" />
  <Blank Num="24" UId="428" />
  <Token Text="IF" UId="429" />
  <Blank UId="430" />
  <Access Scope="LocalVariable" UId="431">
    <Symbol UId="432">
      <Component Name="origen_copia" UId="433" />
    </Symbol>
  </Access>
  <Blank UId="434" />
  <Token Text="=" UId="435" />
  <Blank UId="436" />
  <Access Scope="LiteralConstant" UId="437">
    <Constant UId="438">
      <ConstantValue UId="440">0</ConstantValue>
    </Constant>
  </Access>
  <Blank UId="441" />
  <Token Text="THEN" UId="442" />
  <NewLine UId="443" />
  <Blank Num="28" UId="444" />
  <LineComment UId="445">
    <Text UId="446"> si es cero es que no hay que reordenar.</Text>
  </LineComment>
  <NewLine UId="447" />
  <Blank Num="28" UId="448" />
  <Token Text="RETURN" UId="449" />
  <Token Text=";" UId="450" />
  <NewLine UId="451" />
  <Blank Num="24" UId="452" />
  <Token Text="ELSE" UId="453" />
  <NewLine UId="454" />
  <Blank Num="28" UId="455" />
  <Access Scope="GlobalVariable" UId="456">
    <Symbol UId="457">
      <Component Name="DB198_eventos_generados_routing_JDT1" UId="458">
        <BooleanAttribute Name="HasQuotes" UId="459">true</BooleanAttribute>
      </Component>
      <Token Text="." UId="460" />
      <Component Name="evento" UId="461">
        <Token Text="[" UId="462" />
        <Access Scope="LocalVariable" UId="463">
          <Symbol UId="464">
            <Component Name="Destino_copia" UId="465" />
          </Symbol>
        </Access>
        <Token Text="]" UId="466" />
      </Component>
    </Symbol>
  </Access>
  <Blank UId="467" />
  <Token Text=":=" UId="468" />
  <Blank UId="469" />
  <Access Scope="GlobalVariable" UId="470">
    <Symbol UId="471">
      <Component Name="DB198_eventos_generados_routing_JDT1" UId="472">
        <BooleanAttribute Name="HasQuotes" UId="473">true</BooleanAttribute>
      </Component>
      <Token Text="." UId="474" />
      <Component Name="evento" UId="475">
        <Token Text="[" UId="476" />
        <Access Scope="LocalVariable" UId="477">
          <Symbol UId="478">
            <Component Name="origen_copia" UId="479" />
          </Symbol>
        </Access>
        <Token Text="]" UId="480" />
      </Component>
    </Symbol>
  </Access>
  <Token Text=";" UId="481" />
  <NewLine UId="482" />
  <Blank Num="28" UId="483" />
  <Access Scope="GlobalVariable" UId="484">
    <Symbol UId="485">
      <Component Name="DB198_eventos_generados_routing_JDT1" UId="486">
        <BooleanAttribute Name="HasQuotes" UId="487">true</BooleanAttribute>
      </Component>
      <Token Text="." UId="488" />
      <Component Name="evento" UId="489">
        <Token Text="[" UId="490" />
        <Access Scope="LocalVariable" UId="491">
          <Symbol UId="492">
            <Component Name="origen_copia" UId="493" />
          </Symbol>
        </Access>
        <Token Text="]" UId="494" />
      </Component>
    </Symbol>
  </Access>
  <Blank UId="495" />
  <Token Text=":=" UId="496" />
  <Blank UId="497" />
  <Access Scope="LiteralConstant" UId="498">
    <Constant UId="499">
      <ConstantValue UId="501">''</ConstantValue>
    </Constant>
  </Access>
  <Token Text=";" UId="502" />
  <NewLine UId="503" />
  <Blank Num="28" UId="504" />
  <Access Scope="LocalVariable" UId="505">
    <Symbol UId="506">
      <Component Name="Destino_copia" UId="507" />
    </Symbol>
  </Access>
  <Blank UId="508" />
  <Token Text="+=" UId="509" />
  <Blank UId="510" />
  <Access Scope="LiteralConstant" UId="511">
    <Constant UId="512">
      <ConstantValue UId="514">1</ConstantValue>
    </Constant>
  </Access>
  <Token Text=";" UId="515" />
  <NewLine UId="516" />
  <Blank Num="24" UId="517" />
  <Token Text="END_IF" UId="518" />
  <Token Text=";" UId="519" />
  <NewLine UId="520" />
  <Blank Num="20" UId="521" />
  <Token Text="END_IF" UId="522" />
  <Token Text=";" UId="523" />
  <NewLine UId="524" />
  <Blank Num="16" UId="525" />
  <Token Text="END_FOR" UId="526" />
  <Token Text=";" UId="527" />
  <NewLine UId="528" />
  <Blank Num="12" UId="529" />
  <Token Text="END_REGION" UId="530" />
  <NewLine UId="531" />
  <Blank Num="12" UId="532" />
  <Token Text="RETURN" UId="533" />
  <Token Text=";" UId="534" />
  <Blank UId="535" />
  <LineComment UId="536">
    <Text UId="537"> despues de reordenar salimos de la función</Text>
  </LineComment>
  <NewLine UId="538" />
  <Blank Num="9" UId="539" />
  <NewLine UId="540" />
  <Blank Num="8" UId="541" />
  <Access Scope="Label" UId="542">
    <Label Name="Formateo_JDT1" UId="543">
      <Token Text=":" UId="544" />
    </Label>
  </Access>
  <NewLine UId="545" />
  <Blank Num="12" UId="546" />
  <LineComment UId="547">
    <Text UId="548"> si no es el primer mensaje tenemos que añadir una coma</Text>
  </LineComment>
  <NewLine UId="549" />
  <Blank Num="12" UId="550" />
  <LineComment UId="551">
    <Text UId="552"> </Text>
  </LineComment>
  <NewLine UId="553" />
  <Blank Num="12" UId="554" />
  <Token Text="IF" UId="555" />
  <Blank UId="556" />
  <Access Scope="LocalVariable" UId="557">
    <Symbol UId="558">
      <Component Name="posicion" UId="559" />
    </Symbol>
  </Access>
  <Blank UId="560" />
  <Token Text="&gt;" UId="561" />
  <Blank UId="562" />
  <Access Scope="LiteralConstant" UId="563">
    <Constant UId="564">
      <ConstantValue UId="566">0</ConstantValue>
    </Constant>
  </Access>
  <Blank UId="567" />
  <Token Text="THEN" UId="568" />
  <NewLine UId="569" />
  <Blank Num="16" UId="570" />
  <Access Scope="GlobalVariable" UId="571">
    <Symbol UId="572">
      <Component Name="DB808_JDT01EventosGenerados" UId="573">
        <BooleanAttribute Name="HasQuotes" UId="574">true</BooleanAttribute>
      </Component>
      <Token Text="." UId="575" />
      <Component Name="Mensaje" UId="576">
        <Token Text="[" UId="577" />
        <Access Scope="LocalVariable" UId="578">
          <Symbol UId="579">
            <Component Name="posicion" UId="580" />
          </Symbol>
        </Access>
        <Token Text="]" UId="581" />
      </Component>
    </Symbol>
  </Access>
  <Blank UId="582" />
  <Token Text=":=" UId="583" />
  <Blank UId="584" />
  <Access Scope="LiteralConstant" UId="585">
    <Constant UId="586">
      <ConstantValue UId="588">','</ConstantValue>
    </Constant>
  </Access>
  <Token Text=";" UId="589" />
  <NewLine UId="590" />
  <Blank Num="16" UId="591" />
  <Access Scope="LocalVariable" UId="592">
    <Symbol UId="593">
      <Component Name="posicion" UId="594" />
    </Symbol>
  </Access>
  <Blank UId="595" />
  <Token Text="+=" UId="596" />
  <Blank UId="597" />
  <Access Scope="LiteralConstant" UId="598">
    <Constant UId="599">
      <ConstantValue UId="601">1</ConstantValue>
    </Constant>
  </Access>
  <Token Text=";" UId="602" />
  <NewLine UId="603" />
  <Blank Num="12" UId="604" />
  <Token Text="END_IF" UId="605" />
  <Token Text=";" UId="606" />
  <NewLine UId="607" />
  <Blank Num="12" UId="608" />
  <NewLine UId="609" />
  <Blank Num="12" UId="610" />
  <Access Scope="LocalVariable" UId="611">
    <Symbol UId="612">
      <Component Name="retval" UId="613" />
    </Symbol>
  </Access>
  <Blank UId="614" />
  <Token Text=":=" UId="615" />
  <Blank UId="616" />
  <Access Scope="Call" UId="617">
    <Instruction Name="JOIN" UId="618">
      <Token Text="(" UId="619" />
      <Parameter Name="Mode" UId="620">
        <Blank UId="621" />
        <Token Text=":=" UId="622" />
        <Blank UId="623" />
        <Access Scope="LocalVariable" UId="624">
          <Symbol UId="625">
            <Component Name="mode" UId="626" />
          </Symbol>
        </Access>
      </Parameter>
      <Token Text="," UId="627" />
      <Blank UId="628" />
      <Parameter Name="RecSeparator" UId="629">
        <Blank UId="630" />
        <Token Text=":=" UId="631" />
        <Blank UId="632" />
        <Access Scope="LocalVariable" UId="633">
          <Symbol UId="634">
            <Component Name="separador" UId="635" />
          </Symbol>
        </Access>
      </Parameter>
      <Token Text="," UId="636" />
      <Blank UId="637" />
      <Parameter Name="EndSeparator" UId="638">
        <Blank UId="639" />
        <Token Text=":=" UId="640" />
        <Blank UId="641" />
        <Access Scope="LocalVariable" UId="642">
          <Symbol UId="643">
            <Component Name="separador" UId="644" />
          </Symbol>
        </Access>
      </Parameter>
      <Token Text="," UId="645" />
      <Blank UId="646" />
      <Parameter Name="SrcStruct" UId="647">
        <Blank UId="648" />
        <Token Text=":=" UId="649" />
        <Blank UId="650" />
        <Access Scope="GlobalVariable" UId="651">
          <Symbol UId="652">
            <Component Name="DB198_eventos_generados_routing_JDT1" UId="653">
              <BooleanAttribute Name="HasQuotes" UId="654">true</BooleanAttribute>
            </Component>
            <Token Text="." UId="655" />
            <Component Name="evento" UId="656">
              <Token Text="[" UId="657" />
              <Access Scope="LocalVariable" UId="658">
                <Symbol UId="659">
                  <Component Name="Numero_evento" UId="660" />
                </Symbol>
              </Access>
              <Token Text="]" UId="661" />
            </Component>
          </Symbol>
        </Access>
      </Parameter>
      <Token Text="," UId="662" />
      <Blank UId="663" />
      <Parameter Name="Count" UId="664">
        <Blank UId="665" />
        <Token Text=":=" UId="666" />
        <Blank UId="667" />
        <Access Scope="LocalVariable" UId="668">
          <Symbol UId="669">
            <Component Name="contador" UId="670" />
          </Symbol>
        </Access>
      </Parameter>
      <Token Text="," UId="671" />
      <Blank UId="672" />
      <Parameter Name="DstArray" UId="673">
        <Blank UId="674" />
        <Token Text=":=" UId="675" />
        <Blank UId="676" />
        <Access Scope="GlobalVariable" UId="677">
          <Symbol UId="678">
            <Component Name="DB808_JDT01EventosGenerados" UId="679">
              <BooleanAttribute Name="HasQuotes" UId="680">true</BooleanAttribute>
            </Component>
            <Token Text="." UId="681" />
            <Component Name="Mensaje" UId="682" />
          </Symbol>
        </Access>
      </Parameter>
      <Token Text="," UId="683" />
      <Blank UId="684" />
      <Parameter Name="Position" UId="685">
        <Blank UId="686" />
        <Token Text=":=" UId="687" />
        <Blank UId="688" />
        <Access Scope="LocalVariable" UId="689">
          <Symbol UId="690">
            <Component Name="posicion" UId="691" />
          </Symbol>
        </Access>
      </Parameter>
      <Token Text=")" UId="693" />
    </Instruction>
  </Access>
  <Token Text=";" UId="694" />
  <NewLine UId="695" />
  <Blank Num="12" UId="696" />
  <Access Scope="GlobalVariable" UId="697">
    <Symbol UId="698">
      <Component Name="DB198_eventos_generados_routing_JDT1" UId="699">
        <BooleanAttribute Name="HasQuotes" UId="700">true</BooleanAttribute>
      </Component>
      <Token Text="." UId="701" />
      <Component Name="evento" UId="702">
        <Token Text="[" UId="703" />
        <Access Scope="LocalVariable" UId="704">
          <Symbol UId="705">
            <Component Name="Numero_evento" UId="706" />
          </Symbol>
        </Access>
        <Token Text="]" UId="707" />
      </Component>
    </Symbol>
  </Access>
  <Blank UId="708" />
  <Token Text=":=" UId="709" />
  <Blank UId="710" />
  <Access Scope="LiteralConstant" UId="711">
    <Constant UId="712">
      <ConstantValue UId="714">''</ConstantValue>
    </Constant>
  </Access>
  <Token Text=";" UId="715" />
  <Blank UId="716" />
  <LineComment UId="717">
    <Text UId="718">eliminamos el mensaje emitido</Text>
  </LineComment>
  <NewLine UId="719" />
  <Blank Num="8" UId="720" />
  <Token Text="END_IF" UId="721" />
  <Token Text=";" UId="722" />
  <NewLine UId="723" />
  <Blank Num="8" UId="724" />
  <Token Text=";" UId="725" />
  <NewLine UId="726" />
  <Blank Num="8" UId="727" />
  <LineComment UId="728">
    <Text UId="729"> primero tenemos que evaluar si hay espacio para formatear eventos</Text>
  </LineComment>
  <NewLine UId="730" />
  <Blank Num="4" UId="731" />
  <Token Text="END_FOR" UId="732" />
  <Token Text=";" UId="733" />
  <NewLine UId="734" />
  <Token Text="END_REGION" UId="735" />
  <NewLine Num="3" UId="736" />
  <Token Text="REGION" UId="737" />
  <Blank UId="738" />
  <Text UId="739">emision JDT2</Text>
  <NewLine UId="740" />
  <Blank Num="4" UId="741" />
  <NewLine UId="742" />
  <Access Scope="Label" UId="743">
    <Label Name="JDT_2" UId="744">
      <Token Text=":" UId="745" />
    </Label>
  </Access>
  <LineComment UId="746">
    <Text UId="747"> miramos si tenemos algún mensaje que emitir</Text>
  </LineComment>
  <NewLine UId="748" />
  <Blank Num="4" UId="749" />
  <Token Text="FOR" UId="750" />
  <Blank UId="751" />
  <Access Scope="LocalVariable" UId="752">
    <Symbol UId="753">
      <Component Name="Numero_evento" UId="754" />
    </Symbol>
  </Access>
  <Blank UId="755" />
  <Token Text=":=" UId="756" />
  <Blank UId="757" />
  <Access Scope="LiteralConstant" UId="758">
    <Constant UId="759">
      <ConstantValue UId="761">0</ConstantValue>
    </Constant>
  </Access>
  <Blank UId="762" />
  <Token Text="TO" UId="763" />
  <Blank UId="764" />
  <Access Scope="LiteralConstant" UId="765">
    <Constant UId="766">
      <ConstantValue UId="768">100</ConstantValue>
    </Constant>
  </Access>
  <Blank UId="769" />
  <Token Text="BY" UId="770" />
  <Blank UId="771" />
  <Access Scope="LiteralConstant" UId="772">
    <Constant UId="773">
      <ConstantValue UId="775">1</ConstantValue>
    </Constant>
  </Access>
  <Blank UId="776" />
  <Token Text="DO" UId="777" />
  <NewLine UId="778" />
  <Blank Num="8" UId="779" />
  <Token Text="IF" UId="780" />
  <Blank UId="781" />
  <Access Scope="Call" UId="782">
    <Instruction Name="LEN" UId="783">
      <Token Text="(" UId="784" />
      <NamelessParameter UId="785">
        <Access Scope="GlobalVariable" UId="786">
          <Symbol UId="787">
            <Component Name="DB197_eventos_generados_routing_JDT2" UId="788">
              <BooleanAttribute Name="HasQuotes" UId="789">true</BooleanAttribute>
            </Component>
            <Token Text="." UId="790" />
            <Component Name="evento" UId="791">
              <Token Text="[" UId="792" />
              <Access Scope="LocalVariable" UId="793">
                <Symbol UId="794">
                  <Component Name="Numero_evento" UId="795" />
                </Symbol>
              </Access>
              <Token Text="]" UId="796" />
            </Component>
          </Symbol>
        </Access>
      </NamelessParameter>
      <Token Text=")" UId="798" />
    </Instruction>
  </Access>
  <Blank UId="799" />
  <Token Text="&gt;" UId="800" />
  <Blank UId="801" />
  <Access Scope="LiteralConstant" UId="802">
    <Constant UId="803">
      <ConstantValue UId="805">0</ConstantValue>
    </Constant>
  </Access>
  <Blank UId="806" />
  <Token Text="THEN" UId="807" />
  <NewLine UId="808" />
  <Blank Num="12" UId="809" />
  <LineComment UId="810">
    <Text UId="811"> tenemos un mensaje que emitir. miramos si hay espacio en la emisión</Text>
  </LineComment>
  <NewLine UId="812" />
  <Blank Num="12" UId="813" />
  <Token Text="FOR" UId="814" />
  <Blank UId="815" />
  <Access Scope="LocalVariable" UId="816">
    <Symbol UId="817">
      <Component Name="i" UId="818" />
    </Symbol>
  </Access>
  <Blank UId="819" />
  <Token Text=":=" UId="820" />
  <Blank UId="821" />
  <Access Scope="LiteralConstant" UId="822">
    <Constant UId="823">
      <ConstantValue UId="825">0</ConstantValue>
    </Constant>
  </Access>
  <Blank UId="826" />
  <Token Text="TO" UId="827" />
  <Blank UId="828" />
  <Access Scope="GlobalConstant" UId="829">
    <Constant Name="JDT2_MaxBytes" UId="830" />
  </Access>
  <Blank UId="833" />
  <Token Text="BY" UId="834" />
  <Blank UId="835" />
  <Access Scope="LiteralConstant" UId="836">
    <Constant UId="837">
      <ConstantValue UId="839">1</ConstantValue>
    </Constant>
  </Access>
  <Blank UId="840" />
  <Token Text="DO" UId="841" />
  <Blank UId="842" />
  <LineComment UId="843">
    <Text UId="844" />
  </LineComment>
  <NewLine UId="845" />
  <Blank Num="16" UId="846" />
  <Token Text="IF" UId="847" />
  <Blank UId="848" />
  <Token Text="(" UId="849" />
  <Token Text="(" UId="850" />
  <Access Scope="GlobalVariable" UId="851">
    <Symbol UId="852">
      <Component Name="DB707_JDT02EventosGenerados" UId="853">
        <BooleanAttribute Name="HasQuotes" UId="854">true</BooleanAttribute>
      </Component>
      <Token Text="." UId="855" />
      <Component Name="Mensaje" UId="856">
        <Token Text="[" UId="857" />
        <Access Scope="LocalVariable" UId="858">
          <Symbol UId="859">
            <Component Name="i" UId="860" />
          </Symbol>
        </Access>
        <Token Text="]" UId="861" />
      </Component>
    </Symbol>
  </Access>
  <Blank UId="862" />
  <Token Text="=" UId="863" />
  <Blank UId="864" />
  <Access Scope="LocalVariable" UId="865">
    <Symbol UId="866">
      <Component Name="cero" UId="867" />
    </Symbol>
  </Access>
  <Token Text=")" UId="868" />
  <Blank UId="869" />
  <Token Text="OR" UId="870" />
  <Blank UId="871" />
  <Token Text="(" UId="872" />
  <Access Scope="GlobalVariable" UId="873">
    <Symbol UId="874">
      <Component Name="DB707_JDT02EventosGenerados" UId="875">
        <BooleanAttribute Name="HasQuotes" UId="876">true</BooleanAttribute>
      </Component>
      <Token Text="." UId="877" />
      <Component Name="Mensaje" UId="878">
        <Token Text="[" UId="879" />
        <Access Scope="LocalVariable" UId="880">
          <Symbol UId="881">
            <Component Name="i" UId="882" />
          </Symbol>
        </Access>
        <Token Text="]" UId="883" />
      </Component>
    </Symbol>
  </Access>
  <Blank UId="884" />
  <Token Text="=" UId="885" />
  <Blank UId="886" />
  <Access Scope="LiteralConstant" UId="887">
    <Constant UId="888">
      <ConstantValue UId="890">' '</ConstantValue>
    </Constant>
  </Access>
  <Token Text=")" UId="891" />
  <Token Text=")" UId="892" />
  <Blank UId="893" />
  <Token Text="THEN" UId="894" />
  <NewLine UId="895" />
  <Blank Num="20" UId="896" />
  <Access Scope="LocalVariable" UId="897">
    <Symbol UId="898">
      <Component Name="posicion" UId="899" />
    </Symbol>
  </Access>
  <Blank UId="900" />
  <Token Text=":=" UId="901" />
  <Blank UId="902" />
  <Access Scope="LocalVariable" UId="903">
    <Symbol UId="904">
      <Component Name="i" UId="905" />
    </Symbol>
  </Access>
  <Token Text=";" UId="906" />
  <NewLine UId="907" />
  <Blank Num="20" UId="908" />
  <Access Scope="LocalVariable" UId="909">
    <Symbol UId="910">
      <Component Name="ver_numero_evento" UId="911" />
    </Symbol>
  </Access>
  <Blank UId="912" />
  <Token Text=":=" UId="913" />
  <Blank UId="914" />
  <Access Scope="LocalVariable" UId="915">
    <Symbol UId="916">
      <Component Name="Numero_evento" UId="917" />
    </Symbol>
  </Access>
  <Token Text=";" UId="918" />
  <NewLine UId="919" />
  <Blank Num="20" UId="920" />
  <Token Text="GOTO" UId="921" />
  <Blank UId="922" />
  <Access Scope="Label" UId="923">
    <Label Name="Formateo_JDT2" UId="924" />
  </Access>
  <Token Text=";" UId="925" />
  <NewLine UId="926" />
  <Blank Num="16" UId="927" />
  <Token Text="END_IF" UId="928" />
  <Token Text=";" UId="929" />
  <NewLine UId="930" />
  <Blank Num="12" UId="931" />
  <Token Text="END_FOR" UId="932" />
  <Token Text=";" UId="933" />
  <NewLine UId="934" />
  <Blank Num="12" UId="935" />
  <LineComment UId="936">
    <Text UId="937">si no hemos ido a la emisión es que no hay espacio</Text>
  </LineComment>
  <NewLine UId="938" />
  <Blank Num="12" UId="939" />
  <LineComment UId="940">
    <Text UId="941"> aqui tenemos que reordenar los mensajes no emitidos</Text>
  </LineComment>
  <NewLine UId="942" />
  <Blank Num="12" UId="943" />
  <Token Text="REGION" UId="944" />
  <Blank UId="945" />
  <Text UId="946">reordena mensajes pendientes</Text>
  <NewLine UId="947" />
  <Blank Num="16" UId="948" />
  <LineComment UId="949">
    <Text UId="950"> buscamos la primera posición donde tenemos mensaje</Text>
  </LineComment>
  <NewLine UId="951" />
  <Blank Num="16" UId="952" />
  <Token Text="FOR" UId="953" />
  <Blank UId="954" />
  <Access Scope="LocalVariable" UId="955">
    <Symbol UId="956">
      <Component Name="origen_copia" UId="957" />
    </Symbol>
  </Access>
  <Blank UId="958" />
  <Token Text=":=" UId="959" />
  <Blank UId="960" />
  <Access Scope="LiteralConstant" UId="961">
    <Constant UId="962">
      <ConstantValue UId="964">0</ConstantValue>
    </Constant>
  </Access>
  <Blank UId="965" />
  <Token Text="TO" UId="966" />
  <Blank UId="967" />
  <Access Scope="LiteralConstant" UId="968">
    <Constant UId="969">
      <ConstantValue UId="971">100</ConstantValue>
    </Constant>
  </Access>
  <Blank UId="972" />
  <Token Text="BY" UId="973" />
  <Blank UId="974" />
  <Access Scope="LiteralConstant" UId="975">
    <Constant UId="976">
      <ConstantValue UId="978">1</ConstantValue>
    </Constant>
  </Access>
  <Blank UId="979" />
  <Token Text="DO" UId="980" />
  <NewLine UId="981" />
  <Blank Num="20" UId="982" />
  <Token Text="IF" UId="983" />
  <Blank UId="984" />
  <Access Scope="Call" UId="985">
    <Instruction Name="LEN" UId="986">
      <Token Text="(" UId="987" />
      <NamelessParameter UId="988">
        <Access Scope="GlobalVariable" UId="989">
          <Symbol UId="990">
            <Component Name="DB197_eventos_generados_routing_JDT2" UId="991">
              <BooleanAttribute Name="HasQuotes" UId="992">true</BooleanAttribute>
            </Component>
            <Token Text="." UId="993" />
            <Component Name="evento" UId="994">
              <Token Text="[" UId="995" />
              <Access Scope="LocalVariable" UId="996">
                <Symbol UId="997">
                  <Component Name="origen_copia" UId="998" />
                </Symbol>
              </Access>
              <Token Text="]" UId="999" />
            </Component>
          </Symbol>
        </Access>
      </NamelessParameter>
      <Token Text=")" UId="1001" />
    </Instruction>
  </Access>
  <Blank UId="1002" />
  <Token Text="&gt;" UId="1003" />
  <Blank UId="1004" />
  <Access Scope="LiteralConstant" UId="1005">
    <Constant UId="1006">
      <ConstantValue UId="1008">0</ConstantValue>
    </Constant>
  </Access>
  <Blank UId="1009" />
  <Token Text="THEN" UId="1010" />
  <NewLine UId="1011" />
  <Blank Num="24" UId="1012" />
  <Token Text="IF" UId="1013" />
  <Blank UId="1014" />
  <Access Scope="LocalVariable" UId="1015">
    <Symbol UId="1016">
      <Component Name="origen_copia" UId="1017" />
    </Symbol>
  </Access>
  <Blank UId="1018" />
  <Token Text="=" UId="1019" />
  <Blank UId="1020" />
  <Access Scope="LiteralConstant" UId="1021">
    <Constant UId="1022">
      <ConstantValue UId="1024">0</ConstantValue>
    </Constant>
  </Access>
  <Blank UId="1025" />
  <Token Text="THEN" UId="1026" />
  <NewLine UId="1027" />
  <Blank Num="28" UId="1028" />
  <LineComment UId="1029">
    <Text UId="1030"> si es cero es que no hay que reordenar.</Text>
  </LineComment>
  <NewLine UId="1031" />
  <Blank Num="28" UId="1032" />
  <Token Text="RETURN" UId="1033" />
  <Token Text=";" UId="1034" />
  <NewLine UId="1035" />
  <Blank Num="24" UId="1036" />
  <Token Text="ELSE" UId="1037" />
  <NewLine UId="1038" />
  <Blank Num="28" UId="1039" />
  <Access Scope="GlobalVariable" UId="1040">
    <Symbol UId="1041">
      <Component Name="DB197_eventos_generados_routing_JDT2" UId="1042">
        <BooleanAttribute Name="HasQuotes" UId="1043">true</BooleanAttribute>
      </Component>
      <Token Text="." UId="1044" />
      <Component Name="evento" UId="1045">
        <Token Text="[" UId="1046" />
        <Access Scope="LocalVariable" UId="1047">
          <Symbol UId="1048">
            <Component Name="Destino_copia" UId="1049" />
          </Symbol>
        </Access>
        <Token Text="]" UId="1050" />
      </Component>
    </Symbol>
  </Access>
  <Blank UId="1051" />
  <Token Text=":=" UId="1052" />
  <Blank UId="1053" />
  <Access Scope="GlobalVariable" UId="1054">
    <Symbol UId="1055">
      <Component Name="DB197_eventos_generados_routing_JDT2" UId="1056">
        <BooleanAttribute Name="HasQuotes" UId="1057">true</BooleanAttribute>
      </Component>
      <Token Text="." UId="1058" />
      <Component Name="evento" UId="1059">
        <Token Text="[" UId="1060" />
        <Access Scope="LocalVariable" UId="1061">
          <Symbol UId="1062">
            <Component Name="origen_copia" UId="1063" />
          </Symbol>
        </Access>
        <Token Text="]" UId="1064" />
      </Component>
    </Symbol>
  </Access>
  <Token Text=";" UId="1065" />
  <NewLine UId="1066" />
  <Blank Num="28" UId="1067" />
  <Access Scope="GlobalVariable" UId="1068">
    <Symbol UId="1069">
      <Component Name="DB197_eventos_generados_routing_JDT2" UId="1070">
        <BooleanAttribute Name="HasQuotes" UId="1071">true</BooleanAttribute>
      </Component>
      <Token Text="." UId="1072" />
      <Component Name="evento" UId="1073">
        <Token Text="[" UId="1074" />
        <Access Scope="LocalVariable" UId="1075">
          <Symbol UId="1076">
            <Component Name="origen_copia" UId="1077" />
          </Symbol>
        </Access>
        <Token Text="]" UId="1078" />
      </Component>
    </Symbol>
  </Access>
  <Blank UId="1079" />
  <Token Text=":=" UId="1080" />
  <Blank UId="1081" />
  <Access Scope="LiteralConstant" UId="1082">
    <Constant UId="1083">
      <ConstantValue UId="1085">''</ConstantValue>
    </Constant>
  </Access>
  <Token Text=";" UId="1086" />
  <NewLine UId="1087" />
  <Blank Num="28" UId="1088" />
  <Access Scope="LocalVariable" UId="1089">
    <Symbol UId="1090">
      <Component Name="Destino_copia" UId="1091" />
    </Symbol>
  </Access>
  <Blank UId="1092" />
  <Token Text="+=" UId="1093" />
  <Blank UId="1094" />
  <Access Scope="LiteralConstant" UId="1095">
    <Constant UId="1096">
      <ConstantValue UId="1098">1</ConstantValue>
    </Constant>
  </Access>
  <Token Text=";" UId="1099" />
  <NewLine UId="1100" />
  <Blank Num="24" UId="1101" />
  <Token Text="END_IF" UId="1102" />
  <Token Text=";" UId="1103" />
  <NewLine UId="1104" />
  <Blank Num="20" UId="1105" />
  <Token Text="END_IF" UId="1106" />
  <Token Text=";" UId="1107" />
  <NewLine UId="1108" />
  <Blank Num="16" UId="1109" />
  <Token Text="END_FOR" UId="1110" />
  <Token Text=";" UId="1111" />
  <NewLine UId="1112" />
  <Blank Num="12" UId="1113" />
  <Token Text="END_REGION" UId="1114" />
  <NewLine UId="1115" />
  <Blank Num="12" UId="1116" />
  <Token Text="RETURN" UId="1117" />
  <Token Text=";" UId="1118" />
  <Blank UId="1119" />
  <LineComment UId="1120">
    <Text UId="1121"> despues de reordenar salimos de la función</Text>
  </LineComment>
  <NewLine UId="1122" />
  <Blank Num="12" UId="1123" />
  <NewLine UId="1124" />
  <Blank Num="8" UId="1125" />
  <Access Scope="Label" UId="1126">
    <Label Name="Formateo_JDT2" UId="1127">
      <Token Text=":" UId="1128" />
    </Label>
  </Access>
  <NewLine UId="1129" />
  <Blank Num="12" UId="1130" />
  <LineComment UId="1131">
    <Text UId="1132"> si no es el primer mensaje tenemos que añadir una coma</Text>
  </LineComment>
  <NewLine UId="1133" />
  <Blank Num="12" UId="1134" />
  <LineComment UId="1135">
    <Text UId="1136"> </Text>
  </LineComment>
  <NewLine UId="1137" />
  <Blank Num="12" UId="1138" />
  <Token Text="IF" UId="1139" />
  <Blank UId="1140" />
  <Access Scope="LocalVariable" UId="1141">
    <Symbol UId="1142">
      <Component Name="posicion" UId="1143" />
    </Symbol>
  </Access>
  <Blank UId="1144" />
  <Token Text="&gt;" UId="1145" />
  <Blank UId="1146" />
  <Access Scope="LiteralConstant" UId="1147">
    <Constant UId="1148">
      <ConstantValue UId="1150">0</ConstantValue>
    </Constant>
  </Access>
  <Blank UId="1151" />
  <Token Text="THEN" UId="1152" />
  <NewLine UId="1153" />
  <Blank Num="16" UId="1154" />
  <Access Scope="GlobalVariable" UId="1155">
    <Symbol UId="1156">
      <Component Name="DB707_JDT02EventosGenerados" UId="1157">
        <BooleanAttribute Name="HasQuotes" UId="1158">true</BooleanAttribute>
      </Component>
      <Token Text="." UId="1159" />
      <Component Name="Mensaje" UId="1160">
        <Token Text="[" UId="1161" />
        <Access Scope="LocalVariable" UId="1162">
          <Symbol UId="1163">
            <Component Name="posicion" UId="1164" />
          </Symbol>
        </Access>
        <Token Text="]" UId="1165" />
      </Component>
    </Symbol>
  </Access>
  <Blank UId="1166" />
  <Token Text=":=" UId="1167" />
  <Blank UId="1168" />
  <Access Scope="LiteralConstant" UId="1169">
    <Constant UId="1170">
      <ConstantValue UId="1172">','</ConstantValue>
    </Constant>
  </Access>
  <Token Text=";" UId="1173" />
  <NewLine UId="1174" />
  <Blank Num="16" UId="1175" />
  <Access Scope="LocalVariable" UId="1176">
    <Symbol UId="1177">
      <Component Name="posicion" UId="1178" />
    </Symbol>
  </Access>
  <Blank UId="1179" />
  <Token Text="+=" UId="1180" />
  <Blank UId="1181" />
  <Access Scope="LiteralConstant" UId="1182">
    <Constant UId="1183">
      <ConstantValue UId="1185">1</ConstantValue>
    </Constant>
  </Access>
  <Token Text=";" UId="1186" />
  <NewLine UId="1187" />
  <Blank Num="12" UId="1188" />
  <Token Text="END_IF" UId="1189" />
  <Token Text=";" UId="1190" />
  <NewLine UId="1191" />
  <Blank Num="12" UId="1192" />
  <Access Scope="LocalVariable" UId="1193">
    <Symbol UId="1194">
      <Component Name="retval" UId="1195" />
    </Symbol>
  </Access>
  <Blank UId="1196" />
  <Token Text=":=" UId="1197" />
  <Blank UId="1198" />
  <Access Scope="Call" UId="1199">
    <Instruction Name="JOIN" UId="1200">
      <Token Text="(" UId="1201" />
      <Parameter Name="Mode" UId="1202">
        <Blank UId="1203" />
        <Token Text=":=" UId="1204" />
        <Blank UId="1205" />
        <Access Scope="LocalVariable" UId="1206">
          <Symbol UId="1207">
            <Component Name="mode" UId="1208" />
          </Symbol>
        </Access>
      </Parameter>
      <Token Text="," UId="1209" />
      <Blank UId="1210" />
      <Parameter Name="RecSeparator" UId="1211">
        <Blank UId="1212" />
        <Token Text=":=" UId="1213" />
        <Blank UId="1214" />
        <Access Scope="LocalVariable" UId="1215">
          <Symbol UId="1216">
            <Component Name="separador" UId="1217" />
          </Symbol>
        </Access>
      </Parameter>
      <Token Text="," UId="1218" />
      <Blank UId="1219" />
      <Parameter Name="EndSeparator" UId="1220">
        <Blank UId="1221" />
        <Token Text=":=" UId="1222" />
        <Blank UId="1223" />
        <Access Scope="LocalVariable" UId="1224">
          <Symbol UId="1225">
            <Component Name="separador" UId="1226" />
          </Symbol>
        </Access>
      </Parameter>
      <Token Text="," UId="1227" />
      <Blank UId="1228" />
      <Parameter Name="SrcStruct" UId="1229">
        <Blank UId="1230" />
        <Token Text=":=" UId="1231" />
        <Blank UId="1232" />
        <Access Scope="GlobalVariable" UId="1233">
          <Symbol UId="1234">
            <Component Name="DB197_eventos_generados_routing_JDT2" UId="1235">
              <BooleanAttribute Name="HasQuotes" UId="1236">true</BooleanAttribute>
            </Component>
            <Token Text="." UId="1237" />
            <Component Name="evento" UId="1238">
              <Token Text="[" UId="1239" />
              <Access Scope="LocalVariable" UId="1240">
                <Symbol UId="1241">
                  <Component Name="Numero_evento" UId="1242" />
                </Symbol>
              </Access>
              <Token Text="]" UId="1243" />
            </Component>
          </Symbol>
        </Access>
      </Parameter>
      <Token Text="," UId="1244" />
      <Blank UId="1245" />
      <Parameter Name="Count" UId="1246">
        <Blank UId="1247" />
        <Token Text=":=" UId="1248" />
        <Blank UId="1249" />
        <Access Scope="LocalVariable" UId="1250">
          <Symbol UId="1251">
            <Component Name="contador" UId="1252" />
          </Symbol>
        </Access>
      </Parameter>
      <Token Text="," UId="1253" />
      <Blank UId="1254" />
      <Parameter Name="DstArray" UId="1255">
        <Blank UId="1256" />
        <Token Text=":=" UId="1257" />
        <Blank UId="1258" />
        <Access Scope="GlobalVariable" UId="1259">
          <Symbol UId="1260">
            <Component Name="DB707_JDT02EventosGenerados" UId="1261">
              <BooleanAttribute Name="HasQuotes" UId="1262">true</BooleanAttribute>
            </Component>
            <Token Text="." UId="1263" />
            <Component Name="Mensaje" UId="1264" />
          </Symbol>
        </Access>
      </Parameter>
      <Token Text="," UId="1265" />
      <Blank UId="1266" />
      <Parameter Name="Position" UId="1267">
        <Blank UId="1268" />
        <Token Text=":=" UId="1269" />
        <Blank UId="1270" />
        <Access Scope="LocalVariable" UId="1271">
          <Symbol UId="1272">
            <Component Name="posicion" UId="1273" />
          </Symbol>
        </Access>
      </Parameter>
      <Token Text=")" UId="1275" />
    </Instruction>
  </Access>
  <Token Text=";" UId="1276" />
  <NewLine UId="1277" />
  <Blank Num="12" UId="1278" />
  <Access Scope="GlobalVariable" UId="1279">
    <Symbol UId="1280">
      <Component Name="DB197_eventos_generados_routing_JDT2" UId="1281">
        <BooleanAttribute Name="HasQuotes" UId="1282">true</BooleanAttribute>
      </Component>
      <Token Text="." UId="1283" />
      <Component Name="evento" UId="1284">
        <Token Text="[" UId="1285" />
        <Access Scope="LocalVariable" UId="1286">
          <Symbol UId="1287">
            <Component Name="Numero_evento" UId="1288" />
          </Symbol>
        </Access>
        <Token Text="]" UId="1289" />
      </Component>
    </Symbol>
  </Access>
  <Blank UId="1290" />
  <Token Text=":=" UId="1291" />
  <Blank UId="1292" />
  <Access Scope="LiteralConstant" UId="1293">
    <Constant UId="1294">
      <ConstantValue UId="1296">''</ConstantValue>
    </Constant>
  </Access>
  <Token Text=";" UId="1297" />
  <Blank UId="1298" />
  <LineComment UId="1299">
    <Text UId="1300">eliminamos el mensaje emitido</Text>
  </LineComment>
  <NewLine UId="1301" />
  <Blank Num="8" UId="1302" />
  <Token Text="END_IF" UId="1303" />
  <Token Text=";" UId="1304" />
  <NewLine UId="1305" />
  <Blank Num="8" UId="1306" />
  <Token Text=";" UId="1307" />
  <NewLine UId="1308" />
  <Blank Num="8" UId="1309" />
  <LineComment UId="1310">
    <Text UId="1311"> primero tenemos que evaluar si hay espacio para formatear eventos</Text>
  </LineComment>
  <NewLine UId="1312" />
  <Blank Num="4" UId="1313" />
  <Token Text="END_FOR" UId="1314" />
  <Token Text=";" UId="1315" />
  <NewLine UId="1316" />
  <Token Text="END_REGION" UId="1317" />
  <NewLine Num="2" UId="1318" />
</StructuredText></NetworkSource>
          <ProgrammingLanguage>SCL</ProgrammingLanguage>
        </AttributeList>
        <ObjectList>
          <MultilingualText ID="A" CompositionName="Comment">
            <ObjectList>
              <MultilingualTextItem ID="B" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text />
                </AttributeList>
              </MultilingualTextItem>
              <MultilingualTextItem ID="C" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text />
                </AttributeList>
              </MultilingualTextItem>
              <MultilingualTextItem ID="D" CompositionName="Items">
                <AttributeList>
                  <Culture>es-ES</Culture>
                  <Text />
                </AttributeList>
              </MultilingualTextItem>
              <MultilingualTextItem ID="E" CompositionName="Items">
                <AttributeList>
                  <Culture>fr-FR</Culture>
                  <Text />
                </AttributeList>
              </MultilingualTextItem>
              <MultilingualTextItem ID="F" CompositionName="Items">
                <AttributeList>
                  <Culture>it-IT</Culture>
                  <Text />
                </AttributeList>
              </MultilingualTextItem>
              <MultilingualTextItem ID="10" CompositionName="Items">
                <AttributeList>
                  <Culture>ja-JP</Culture>
                  <Text />
                </AttributeList>
              </MultilingualTextItem>
              <MultilingualTextItem ID="11" CompositionName="Items">
                <AttributeList>
                  <Culture>zh-CN</Culture>
                  <Text />
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
          <MultilingualText ID="12" CompositionName="Title">
            <ObjectList>
              <MultilingualTextItem ID="13" CompositionName="Items">
                <AttributeList>
                  <Culture>de-DE</Culture>
                  <Text />
                </AttributeList>
              </MultilingualTextItem>
              <MultilingualTextItem ID="14" CompositionName="Items">
                <AttributeList>
                  <Culture>en-US</Culture>
                  <Text />
                </AttributeList>
              </MultilingualTextItem>
              <MultilingualTextItem ID="15" CompositionName="Items">
                <AttributeList>
                  <Culture>es-ES</Culture>
                  <Text />
                </AttributeList>
              </MultilingualTextItem>
              <MultilingualTextItem ID="16" CompositionName="Items">
                <AttributeList>
                  <Culture>fr-FR</Culture>
                  <Text />
                </AttributeList>
              </MultilingualTextItem>
              <MultilingualTextItem ID="17" CompositionName="Items">
                <AttributeList>
                  <Culture>it-IT</Culture>
                  <Text />
                </AttributeList>
              </MultilingualTextItem>
              <MultilingualTextItem ID="18" CompositionName="Items">
                <AttributeList>
                  <Culture>ja-JP</Culture>
                  <Text />
                </AttributeList>
              </MultilingualTextItem>
              <MultilingualTextItem ID="19" CompositionName="Items">
                <AttributeList>
                  <Culture>zh-CN</Culture>
                  <Text />
                </AttributeList>
              </MultilingualTextItem>
            </ObjectList>
          </MultilingualText>
        </ObjectList>
      </SW.Blocks.CompileUnit>
      <MultilingualText ID="1A" CompositionName="Title">
        <ObjectList>
          <MultilingualTextItem ID="1B" CompositionName="Items">
            <AttributeList>
              <Culture>de-DE</Culture>
              <Text />
            </AttributeList>
          </MultilingualTextItem>
          <MultilingualTextItem ID="1C" CompositionName="Items">
            <AttributeList>
              <Culture>en-US</Culture>
              <Text />
            </AttributeList>
          </MultilingualTextItem>
          <MultilingualTextItem ID="1D" CompositionName="Items">
            <AttributeList>
              <Culture>es-ES</Culture>
              <Text />
            </AttributeList>
          </MultilingualTextItem>
          <MultilingualTextItem ID="1E" CompositionName="Items">
            <AttributeList>
              <Culture>fr-FR</Culture>
              <Text />
            </AttributeList>
          </MultilingualTextItem>
          <MultilingualTextItem ID="1F" CompositionName="Items">
            <AttributeList>
              <Culture>it-IT</Culture>
              <Text />
            </AttributeList>
          </MultilingualTextItem>
          <MultilingualTextItem ID="20" CompositionName="Items">
            <AttributeList>
              <Culture>ja-JP</Culture>
              <Text />
            </AttributeList>
          </MultilingualTextItem>
          <MultilingualTextItem ID="21" CompositionName="Items">
            <AttributeList>
              <Culture>zh-CN</Culture>
              <Text />
            </AttributeList>
          </MultilingualTextItem>
        </ObjectList>
      </MultilingualText>
    </ObjectList>
  </SW.Blocks.FC>
</Document>